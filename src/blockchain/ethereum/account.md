---
title: 账户
category:
  - 区块链
  - 以太坊
---

# 以太坊-账户

# 以太坊账户模式详解

## 账本模型对比

### 比特币：基于UTXO的交易账本

比特币采用基于UTXO（未花费交易输出）的账本模式，具有以下特点：

**核心机制**
- 不显式记录账户余额，需要通过UTXO推算
- 每次交易必须说明资金来源（引用具体的UTXO）
- 必须完全花费输出：如果要使用某个UTXO，必须将其全部金额用完

**实际应用示例**
当B想从A收到的10 BTC中转给C 3 BTC时：
- 必须将完整的10 BTC UTXO作为输入
- 输出：3 BTC给C，7 BTC返还给B的新地址
- 如果忘记创建找零输出，剩余的7 BTC将作为矿工费被没收

**优缺点**
- ✅ 隐私保护较好
- ❌ 使用复杂，需要管理UTXO
- ❌ 必须完全花费输出的限制

### 以太坊：基于账户的账本

以太坊采用类似传统银行的账户余额模式：

**核心机制**
- 直接记录每个账户的余额
- 交易时只需验证发送方余额是否充足
- 无需指定资金来源，支持部分金额转账

**安全机制**
- **防双花**：账户余额直接扣减，天然防止双重支付
- **防重放攻击**：使用`nonce`字段记录账户交易次数，每个交易必须使用正确的nonce值

## 以太坊账户类型

### 外部账户（Externally Owned Account, EOA）

**定义与控制**
- 由用户私钥控制的账户
- 类似于比特币地址，通过公私钥对管理

**状态属性**
- **余额（balance）**：账户持有的ETH数量
- **交易计数（nonce）**：该账户发起的交易总数

**功能特点**
- 可以主动发起交易
- 可以向其他账户转账
- 可以调用智能合约

### 合约账户（Smart Contract Account）

**定义与控制**
- 由智能合约代码控制，无私钥
- 通过预定义的合约逻辑执行操作

**状态属性**
- **余额（balance）**：合约持有的ETH数量
- **交易计数（nonce）**：用于生成新合约地址
- **代码（code）**：存储的智能合约字节码
- **存储（storage）**：合约的持久化数据存储

**执行机制**
- ❌ 无法主动发起交易
- ✅ 可被外部账户调用
- ✅ 可在执行过程中调用其他合约
- ✅ 合约间可形成调用链：EOA → 合约A → 合约B

**生命周期**
1. 部署时生成唯一合约地址
2. 通过地址调用合约功能
3. 调用过程中可修改合约存储状态
